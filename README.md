# Doctor Alert System

A **Patient Voice-to-Text and Risk Alert System** using synthetic audio, transcription, BioBERT-based risk profiling, and automated email alerts. This system generates synthetic patient audio from text, transcribes the audio back to text, evaluates medical risk, stores data in a database, and notifies doctors when medium or high-risk conditions are detected.

---

## Project Overview

**Objective:**  
Convert patient speech into text, analyze medical risk levels, and alert doctors automatically for critical cases.

**Key Features:**
- Generate synthetic patient audio from text using gTTS (text-to-speech) based on the MedDialog-EN-10k dataset. (Original task is audio-to-text, but no audio dataset was available, so synthetic audio was created from text.)
- Audio preprocessing and transcription with OpenAI Whisper large model.
- Hybrid risk profiling using:
  - Keyword-based detection (high & medium risk terms)
  - Fine-tuned BioBERT classifier
- Automated email alerts for Medium/High-risk patients.
- Database storage (SQLite) of transcripts, risk profiling, and alerts.
- Evaluation metrics: WER, Precision, Recall, F1-score, alert reliability, and latency.

**Dataset:**
- `MedDialog-EN-10k (BinKhoaLe1812/MedDialog-EN-10k)` is used as the source for generating synthetic patient audio.
---

## Architecture & Technology Stack

**Frontend / Input:**  
- Text/voice input (synthetic or recorded patient audio)

**Processing Pipeline:**  
1. Audio preprocessing (Pydub)
2. Transcription (OpenAI Whisper)
3. Risk profiling (keywords + fine-tuned BioBERT)
4. Alert system (Gmail SMTP)

**Database & Storage:**  
- SQLite (`doctor_alert.db`) storing transcripts and alerts.

**Libraries & Frameworks:**  
- Python 3.10+  
- gTTS, Pydub, Whisper, Transformers, Torch, scikit-learn, pandas, fuzzywuzzy, jiwer  

---

## Installation & Setup

1. **Download the repository** as ZIP from GitHub.  
2. **Upload the files to Google Colab**:  
   - Go to [Colab](https://colab.research.google.com/) → File → Upload Notebook  
   - Upload `Doctor_Alert_System.ipynb`
   - Go to Drive of the mail that you used for Google Colab, create `DASYSTEM2` folder and upload `risk.csv` and `ground_truth_21.csv`.

3. **Run the notebook:**
   - Run the `Doctor Alert System.ipynb` in Google Colab.
   - Follow the notebook cells step by step.
  
4. **Directory Structure:**
   When you run the code, the following folders and files will be automatically created:  

   - The main Colab notebook with all code.  
   - **`synthetic_audio_gtts/`** – Generated synthetic patient audio files (MP3).  
   - **`synthetic_audio_processed/`** – Preprocessed audio files (WAV, 16kHz, mono).  
   - **`transcript large/`** – Transcriptions of audio generated by Whisper.  
   - **`profile_results_biobert_patient_large/`** – JSON files with predicted risk levels.  
   - **`doctor_alert.db`** – SQLite database storing transcripts and alert information.  
   - **`patient_report.csv`** – Combined report of transcripts and risk alerts.
   - **`ground_truth_21.csv`** – This is the demo 21 sample of the leveled data, which is considered the true value for Profiling Accuracy. The leveling is generated by gpt as no               reliable leveling is available.  
   - **`risk.csv`** – Training dataset used for BioBERT risk classification. 
     - This file is included in the repository because the model is trained inside the notebook. 
     - The trained model is not uploaded (due to size limits), but users can retrain it by running the notebook.
  > **Note:** These files are **not included** in the repository. Running the notebook will generate them automatically.


5. **Notes for running the project:**
   - You don’t need to upload large files (like audio or database) to GitHub. Users can generate them by running the notebook.
   - If someone wants to reproduce results, they should just run the notebook step by step strictly.

  
